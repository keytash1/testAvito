# Нагрузочное тестирование

Для проверки производительности сервиса использовался инструмент [k6](https://k6.io/).

---

## Сценарий теста

- **RPS:** до 5 запросов в секунду на пользователя  
- **Виртуальные пользователи (VU):** 1 → 20 поэтапно, три стадии:  
  1. 0–10 VU за 30 секунд  
  2. 10–20 VU за 30 секунд  
  3. 20-0 VU за 30 секунд  
- **Цикл VU:**  
  1. POST `/team/add` — создать команду с 3 уникальными пользователями  
  2. GET `/team/get` — проверить успешное создание  
  3. `sleep(0.2)` — пауза между итерациями  
- **Пороговые показатели (SLI):**  
  - Время ответа: 95-й процентиль < 300 мс  
  - Успешность: ≥ 99.9% успешных запросов  

---

## Пример команды запуска

```bash
k6 run loadtest.js
```

---

## Результаты теста

| Метрика                     | Значение                     |
|------------------------------|------------------------------|
| Среднее время ответа         | 8.2 ms                       |
| Минимальное время            | 0.5 ms                        |
| 90-й процентиль              | 17.2 ms                       |
| 95-й процентиль              | 24.0 ms                       |
| Ошибки (http_req_failed)     | 0%                            |
| Количество запросов          | 8310 (92.3/сек)              |
| Средняя длительность итерации| 217 ms                        |
| Максимальная длительность    | 297 ms                        |
| Кол-во VU                    | min=1, max=20                 |

---

## Вывод

- Все запросы укладываются в заданный SLI времени ответа (p95 < 300 мс).  
- Ошибок нет (успешность 100%).  
- Сервис стабильно работает при одновременной работе нескольких команд и пользователей.  

Реализация готова к эксплуатации при умеренной нагрузке.